---
title: "Assignment 5"
author: "Julia Haaf & Nicole Cruz, adapted from Shravan Vasishth"
date: ""
output: pdf_document
---

```{r setup, include=FALSE, error = F, warning = F, message = F}
knitr::opts_chunk$set(echo = T, warning = F, error = F, message = F)
#source("index.R")
```


# Exercise 1

We focus on the effect of cognitive load on pupil size, looking at all the subjects:

```{r packages}
library(brms)
```
```{r data}
load("df_pupil_complete.rda")
df_pupil_complete
```

Try to fit a "maximal" model (correlated varying intercept and slopes for subjects) assuming a normal likelihood, and using these priors: 

```{r}
prior = c(
prior(normal(1000, 500), class = Intercept),
prior(normal(0, 1000), class = sigma),
prior(normal(0, 100), class = b, coef = c_load),
prior(normal(0, 1000), class = sd),
prior(lkj(2), class = cor))
```

(a) Examine the effect of (centered) load on pupil size, and the average pupil size. What do you conclude?
(b) Do a sensitivity analysis for the prior on the intercept ($\alpha$). What is the estimate of the effect ($\beta$) under different priors?
(c) Is the effect of load consistent across subjects? Investigate this visually.

